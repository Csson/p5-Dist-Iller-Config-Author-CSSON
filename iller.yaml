---
__document_type: dist.ini
name: Dist-Iller-Config-Author-Csson
author: Erik Carlsson <info@code301.com>
license: Perl_5
copyright_holder: Erik Carlsson <info@code301.com>
copyright_year: 2015

plugins:
 - plugin: GatherDir
 - plugin: PruneCruft
 - plugin: ManifestSkip
 - plugin: MetaYAML
 - plugin: License
 - plugin: Readme
 - plugin: ExtraTests
 - plugin: ExecDir
 - plugin: ShareDir
 - plugin: MakeMaker
 - plugin: Manifest
 - plugin: TestRelease
 - plugin: ConfirmRelease
 - plugin: UploadToCPAN

---
__document_type: weaver.ini

plugins:
- plugin: @CorePrep

- plugin: '-SingleEncoding'

- plugin: Name

- plugin: Version
  format: 'Version %v, released %{YYYY-MM-dd}d.'

- plugin: Prelude
  xp:     Region
  region_name: prelude

- plugin: Synopsis
  xp:     Generic
  header: SYNOPSIS

- plugin: Description
  xp:     Generic
  header: DESCRIPTION

- plugin: Overview
  xp:     Generic
  header: OVERVIEW

- plugin: Stability
  xp:     Generic
  header: STABILITY

- plugin: Attributes
  xp:     Collect
  header: ATTRIBUTES
  command: attr

- plugin: Methods
  xp:     Collect
  header: METHODS
  command: method

- plugin: Functions
  xp:     Collect
  header: FUNCTIONS
  command: func

- plugin: Leftovers

- plugin: postlude
  xp:     Region

- plugin: Source::DefaultGitHub
  text:   L<%s>
  __add_if: $self.include_default_github

- plugin: Homepage::DefaultCPAN
  text:   L<%s>

- plugin: Authors

- plugin: Legal

- plugin: List
  xp:     -Transformer
  transformer: List

- plugin: Splint
  xp:     -Transformer
  transformer: Splint




 push @plugins => (
        ['@Author::CSSON/CorePrep',       xp('@CorePrep'),       { } ],
        ['@Author::CSSON/SingleEncoding', xp('-SingleEncoding'), { } ],
        ['@Author::CSSON/Name',           xp('Name'),            { } ],
        ['@Author::CSSON/Version',        xp('Version'),         { format => q{Version %v, released %{YYYY-MM-dd}d.} } ],
        ['@Author::CSSON/Prelude',        xp('Region'),          { region_name => 'prelude' } ],
    );

    foreach my $plugin (qw/Synopsis Description Overview Stability/) {
        push @plugins => ['@Author::CSSON/'.$plugin, xp('Generic'), { header => uc $plugin } ];
    }

    foreach my $plugin ( ['Attributes', 'attr'],
                         ['Methods', 'method'],
                         ['Functions', 'func'],
    ) {
        push @plugins => [ $plugin->[0], xp('Collect'), { command => $plugin->[1], header => uc $plugin->[0] } ];
    }
    push @plugins => (
        ['@Author::CSSON/Leftovers',             xp('Leftovers'), { } ],
        ['@Author::CSSON/postlude',              xp('Region'),    { } ],
        (
            !$ENV{'ILLER_MINTING'} && $include_default_github ?
            ['@Author::CSSON/Source::DefaultGitHub', xp('Source::DefaultGitHub'), { text => 'L<%s>' } ]
            :
            ()
        ),
        ['@Author::CSSON/Homepage::DefaultCPAN', xp('Homepage::DefaultCPAN'), { text => 'L<%s>' } ],
        ['@Author::CSSON/Authors',               xp('Authors'),   { } ],
        ['@Author::CSSON/Legal',                 xp('Legal'),     { } ],

        ['@Author::CSSON/List', xp('-Transformer'), { transformer => 'List' } ],
        ['@Author::CSSON/Splint', xp('-Transformer'), { transformer => 'Splint' } ],
    );






--- !dist

configs:
 - config: Author::CSSON
   plugins:
    - remove_plugin: Readme
   
    - replace_plugin: ShareDir
      dir: profiles
   
    - extend_plugin: NextVersion::Semantic
      major: Rewrite
   
    - modify_plugin: Git::Tag
      replace:
        tag_message: Done
   
    - add_plugin: MapMetro::MakeLinesPod
      __after: ExecDir
      colors: 1

  - config: Git
