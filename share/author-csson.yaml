---
doctype: dist

header:
  author: Erik Carlsson <info@code301.com>
  license: Perl_5
  copyright_holder: Erik Carlsson
  copyright_year: 2016

prereqs:
  test:
    requires:
      - Test::More: 0.96

  develop:
    requires:
      - Dist::Iller::Config::Author::CSSON
      - Test::Warnings
      - Test::NoTabs

plugins:
 - +plugin: Git::GatherDir
   exclude_filename:
   - META.json
   - LICENSE
   - README.md
   - $self.build_file

 - +plugin: CopyFilesFromBuild
   copy:
   - META.json
   - LICENSE
   - $self.build_file

 - +plugin: ReversionOnRelease
   prompt: 1

 - +plugin: OurPkgVersion

 - +plugin: PodnameFromClassname

 - +plugin: NextRelease
   format: '%v  %{yyyy-MM-dd HH:mm:ss VVV}d'

 - +plugin: PreviousVersion::Changelog

 - +plugin: NextVersion::Semantic
   major: ~
   minor: 'API Changes, New Features, Enhancements'
   revision: 'Requirements, Testing, Other Changes, Bug Fixes, Documentation'
   format: '%d.%02d%02d'
   numify_version: 0

 - +plugin: TaskWeaver
   +add_if: $self.is_task

 - +plugin: PodWeaver
   +remove_if: $self.is_task

 - +plugin: Git::Check
   allow_dirty:
   - dist.ini
   - Changes
   - META.json
   - README.md
   - README
   - $self.build_file

 - +plugin: GithubMeta
   +remove_if: $self.is_private
   issues: 1
   homepage: $self.homepage

 - +plugin: Readme

 - +plugin: ReadmeAnyFromPod
   filename: README.md
   type: markdown
   location: root

 - +plugin: MetaNoIndex
   directory:
   - t
   - xt
   - inc
   - share
   - eg
   - examples

 - +plugin: Prereqs::Plugins

 - +plugin: $self.installer

 - +plugin: MetaJSON

 - +plugin: MetaProvides::Class

 - +plugin: MetaProvides::Package

 - +plugin: DistIller::MetaGeneratedBy

 - +plugin: Git::Contributors

 - +plugin: Test::Kwalitee::Extra

 - +plugin: Test::NoTabs

 - +plugin: Test::EOL

 - +plugin: Test::EOF

 - +plugin: Test::Version

 - +plugin: Test::Compile

 - +plugin: Test::ReportPrereqs

 - +plugin: PodSyntaxTests
 - +plugin: MetaYAML
 - +plugin: License
 - +plugin: RunExtraTests

 - +plugin: ShareDir
 - +plugin: ExecDir

 - +plugin: Manifest
 - +plugin: ManifestSkip

 - +plugin: CheckChangesHasContent

 - +plugin: TestRelease

 - +plugin: ConfirmRelease

 - +plugin: FakeRelease
   +add_if: $env.fake_release

 - +plugin: UploadToStratopan
   +add_if: $self.is_private_release

 - +plugin: UploadToCPAN
   +add_if: $self.is_cpan_release


 - +plugin: TravisYML
   +add_if: $self.travis
   perl_version: 5.14 5.16 5.18 5.20 5.22

 - +plugin: Git::Tag
   tag_format: '%v'
   tag_message: ~

 - +plugin: Git::Push
   remotes_must_exist: 1

 - +plugin: InstallRelease
   install_command: cpanm .

 - +plugin: Clean

---
doctype: weaver

plugins:
 - +plugin: '@CorePrep'

 - +plugin: -SingleEncoding

 - +plugin: Name

 - +plugin: Badges
   badge:
    - perl
    - travis
    - coverage
   formats: html, markdown

 - +plugin: Version
   format: Version %v, released %{YYYY-MM-dd}d.

 - +plugin: prelude
   +base:  Region

 - +plugin: Synopsis
   +base:  Generic

 - +plugin: Description
   +base:  Generic

 - +plugin: Overview
   +base:  Generic

 - +plugin: Attributes
   +base:  Collect
   command: attr

 - +plugin: Methods
   +base:  Collect
   command: method

 - +plugin: Functions
   +base:  Collect
   command: func

 - +plugin: Leftovers

 - +plugin: postlude
   +base:  Region

 - +plugin: Source::DefaultGitHub
   +add_if: $self.add_default_github
   text: L<%s>

 - +plugin: Homepage::DefaultCPAN
   text: L<%s>

 - +plugin: Authors

 - +plugin: Legal

 - +plugin: List
   +base: -Transformer
   +in: Elemental
   transformer: List

 - +plugin: Splint
   +base: -Transformer
   +in: Elemental
   +add_if: $self.splint
   transformer: Splint
